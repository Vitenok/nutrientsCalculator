<!DOCTYPE html>
<html lang="en" data-ng-app="nutrientsCalc">
<head>
    <!-- Basic Page Needs
    ================================================== -->
    <meta charset="utf-8">
    <!--[if IE]>
    <meta http-equiv="x-ua-compatible" content="IE=9"/><![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<meta name="google-signin-client_id"
          content="518156747499-cegh4ujuqfaq4v57ics5tlfvkor5h46j.apps.googleusercontent.com">-->
    <title>Spirit - Diet planner</title>


    <!-- Favicons
    ================================================== -->
    <link rel="icon" type="image/png" sizes="192x192" href="../resources/img/favicon.ico">


    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="../resources/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../resources/fonts/font-awesome/css/font-awesome.css">

    <!-- Slider
    ================================================== -->
    <link href="../resources/css/owl.carousel.css" rel="stylesheet" media="screen">
    <link href="../resources/css/owl.theme.css" rel="stylesheet" media="screen">

    <!-- Stylesheet
    ================================================== -->
    <link rel="stylesheet" type="text/css" href="../resources/css/style.css">
    <link rel="stylesheet" type="text/css" href="../resources/css/responsive.css">
    <!-- Custom styles-->
    <link rel="stylesheet" type="text/css" href="../resources/styles/app.css">
    <link rel="stylesheet" type="text/css" href="../resources/styles/slider.css">

    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic'
          rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,700,300,600,800,400'
          rel='stylesheet' type='text/css'>

    <script type="text/javascript" src="../resources/js/modernizr.custom.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Javascripts
    ================================================== -->
    <!-- Angular-->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.js"></script>
    <!-- jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Facebook API-->
    <script src="https://connect.facebook.net/en_US/sdk.js" async defer></script>
    <!-- Google API -->
    <script src="https://apis.google.com/js/platform.js?onload=glCheckLoginState" async defer></script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script type="text/javascript" src="../resources/js/jquery.1.11.1.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="../resources/js/bootstrap.js"></script>
    <script type="text/javascript" src="../resources/js/SmoothScroll.js"></script>
    <script type="text/javascript" src="../resources/js/jquery.isotope.js"></script>

    <script src="../resources/js/owl.carousel.js"></script>
    <script type="text/javascript" src="../resources/js/main.js"></script>
    <!-- Custom scripts-->
    <script type="text/javascript" src="../resources/scripts/nutrientsCalculator.js"></script>
    <script type="text/javascript" src="../resources/scripts/slider.js"></script>
    <script type="text/javascript" src="../resources/scripts/socialLogin.js"></script>
</head>
<body>
<div class="">
<!-- Navigation
==========================================-->
<nav id="tf-menu" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#home">Spirit</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#home" class="page-scroll">Home</a></li>
                <li><a href="#about" class="page-scroll">Product</a></li>
                <li><a href="#personal-data" class="page-scroll">Personal data</a></li>
                <li><a href="#products-search" class="page-scroll">Products search</a></li>
                <li><a href="#" data-toggle="modal" data-target="#signInModal">Login</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<div data-ng-controller="nutrientsCalcCtrl">
<!-- Home Page
==========================================-->
<div id="home" class="text-center">
    <div class="overlay">
        <div class="content">
            <h1>Welcome to <strong><span class="color">Spirit</span></strong></h1>

            <p class="lead">We will help <strong>you</strong> achieve <strong>your goals</strong></p>
            <a href="#about" class="fa fa-angle-down page-scroll"></a>
        </div>
    </div>
</div>

<!-- About Us Page
==========================================-->
<div id="about" class="text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="about-text">
                    <div class="section-title center">
                        <h2>Some words about <strong>our product</strong></h2>

                        <div class="line">
                            <hr>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <p class="intro">How to use calculator</p>

                    <div class="space"></div>
                    <a href="#personal-data" class="btn tf-btn btn-default page-scroll"> Start</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Intake Page
==========================================-->
<div id="personal-data" class="text-center">
    <div class="overlay">
        <div class="container">
            <div class="section-title center">
                <h2>Personal data</h2>

                <div class="line">
                    <hr>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 col-md-offset-4">
                    <div class="col-md-6">Sex</div>
                    <div class="col-md-6">
                        <select ng-model="sex.chosenSex" ng-init="sex.chosenSex = sex.options[1]"
                                                  ng-options="option.name for option in sex.options"
                                                  class="black">
                        </select>
                    </div>
                    <div class="col-md-6">Age</div>
                    <div class="col-md-6">
                        <input type="number" class="form-control"
                               ng-init="age = 30"
                               ng-model="age"
                               min="15" max="80"
                               required>
                    </div>
                    <div class="col-md-6">Height (cm)</div>
                    <div class="col-md-6">
                        <input type="number" class="form-control"
                               ng-init="userHeight = 158"
                               ng-model="userHeight"
                               min="145" max="200"
                               required>
                    </div>
                    <div class="col-md-6">Weight (kg)</div>
                    <div class="col-md-6">
                        <input type="number" class="form-control"
                               ng-init="userWeight = 56"
                               ng-model="userWeight"
                               min="40" max="200"
                               required>
                    </div>
                    <div class="col-md-6">Activity level</div>
                    <div class="col-md-6">
                        <select ng-model="activityLevel.chosenLevel" ng-init="activityLevel.chosenLevel = activityLevel.options[0]"
                                ng-options="option.name for option in activityLevel.options"
                                class="black">
                        </select>
                    </div>
                    <div class="col-md-6">Goal</div>
                    <div class="col-md-6">
                        <select ng-model="goal.chosenGoal" ng-init="goal.chosenGoal = goal.options[0]"
                                ng-options="option.name for option in goal.options"
                                class="black">
                        </select>
                    </div>
                    <div class="col-md-6">BMR</div>
                    <div class="col-md-6">
                        {{BMR}}
                    </div>
                    <div class="col-md-6">TDEE</div>
                    <div class="col-md-6">
                        {{TDEE}}
                    </div>
                </div>
            </div>

            <div class="line">
                <hr>
            </div>

            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <form class="form-horizontal" name="caloriesForm">
                        <div class="form-group"
                             ng-class="{ 'has-error' : caloriesForm.caloriesInput.$invalid }">
                            <div class="col-xs-12 col-md-2 col-md-offset-5">
                                Calories: <input type="number" name="caloriesInput" class="form-control"
                                                 placeholder="Type your daily calories intake" ng-model="intake"
                                                 min="0"
                                                 required>
                                <div ng-show="goal.chosenGoal.value !== 1">
                                    <span ng-show="goal.chosenGoal.value > 0">+{{goal.chosenGoal.value*100}}%</span>
                                    <span ng-show="goal.chosenGoal.value < 0">{{goal.chosenGoal.value*100}}%</span>
                                </div>

                            </div>
                        </div>
                    </form>

                    <div class="alert alert-danger" ng-show="caloriesForm.caloriesInput.$error.required">
                        This is required field
                    </div>

                    <div class="alert alert-danger" ng-show="showMinimumCalorieAlert">
                        Please enter minimum 40 kCal
                    </div>

                    <slider floor="0" ceiling="100" ng-model-low="position.firstKnob"
                            ng-model-high="position.secondKnob">
                    </slider>
                    <div class="col-xs-4">
                        <p>Protein</p>

                        <p>{{proteinRange}}%</p>

                        <p>{{proteinsIntake}}gr</p>
                    </div>
                    <div class="col-xs-4">
                        <p>Fat</p>

                        <p>{{fatRange}}%</p>

                        <p>{{fatsIntake}}gr</p></div>
                    <div class="col-xs-4">
                        <p>Carbohydrate</p>

                        <p>{{carbohydrateRange}}%</p>

                        <p>{{carbsIntake}}gr</p>
                    </div>


                    <div class="space"></div>
                    <a href="#products-search" class="btn tf-btn btn-default page-scroll"> Next</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Food input Section
==========================================-->
<div id="products-search" class="text-center">
    <div class="container">
        <div class="section-title center">
            <h2>Choose products you would like to eat</h2>

            <div class="line">
                <hr>
            </div>
            <div class="clearfix"></div>

            <small><em>Some advises for wise product choice</em></small>
        </div>
        <h3 class="intro">Are you going to use supplements?</h3>
        <a class="btn tf-btn btn-default page-scroll" ng-click="suppl = true"> Yes </a>
        <a href="#food-list" class="btn tf-btn btn-gray page-scroll" ng-click="clearAllSupplements()"> No </a>

        <div class="space"></div>
        <div ng-show="suppl" class="col-md-6 col-md-offset-3">
            <form name="supplementsform"
                  ng-submit="supplementsform.$valid && addSupplementToTheList(supplementsform)">
                <fieldset>
                    <div class="">
                        <div class="form-group">
                            <label for="supplement-name">Supplement name</label>
                            <input type="text" class="form-control" id="supplement-name"
                                   placeholder="Enter supplement name" required ng-model="sName">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="calories">Calories</label>
                            <input type="number" class="form-control" id="calories"
                                   required ng-model="sCalories">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="proteins">Proteins</label>
                            <input type="number" class="form-control" id="proteins"
                                   required ng-model="sProteins">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="fats">Fats</label>
                            <input type="number" class="form-control" id="fats"
                                   required ng-model="sFats">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="carbs">Carbs</label>
                            <input type="number" class="form-control" id="carbs"
                                   required ng-model="sCarbs">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="sWeight">Weight</label>
                            <input type="number" class="form-control" id="sWeight"
                                   required ng-model="sWeight">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <button id="add-suppl" class="btn tf-btn btn-default small" type="submit">
                            Add
                        </button>
                    </div>
                </fieldset>
            </form>
            <div class="space"></div>
            <div data-ng-repeat="supplement in supplementItems">
                Supplements: {{supplement.name}}
            </div>

            <ul class="list-group">
                <li class="list-group-item" ng-repeat="supplement in supplementItems">
                    {{supplement.name}}
                    {{supplement.protein}} g
                    {{supplement.fat}} g
                    {{supplement.carb}} g
                    {{supplement.kCal}} kCal
                    {{supplement.weight}} grams
                            <span class="glyphicon glyphicon-trash pull-right "
                                  ng-click="removeThisItem(supplement)"></span>
                </li>
            </ul>

        </div>
        <div class="space"></div>
        <div class="col-md-8 col-md-offset-2" id="food-list">
            <div class="row">
                <div>
                    <form class="form-horizontal">
                        <div class="form-group">
                            <div class="col-md-12">
                                <input type="text" class="form-control" placeholder="Search food item..."
                                       ng-model="searchFoodItem" ng-model-options="{debounce: 300}">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="space"></div>
            <div class="row">
                <div class="" data-ng-init="getProductsDataFromServer()">
                    <table class="table table-hover table-fixed-header  table-small-font">
                        <thead>
                        <th class="col-md-3">Product name</th>
                        <th class="col-md-2">Proteins</th>
                        <th class="col-md-2">Fats</th>
                        <th class="col-md-2">Carbs</th>
                        <th class="col-md-2">Calories</th>
                        <th class="col-md-1"></th>
                        </thead>
                        <tbody>
                        <tr data-ng-repeat="product in products"
                            ng-show="([product] | filter:searchFoodItem).length > 0">
                            <td class="col-md-3">{{product.name}}</td>
                            <td class="col-md-2">{{product.protein}}</td>
                            <td class="col-md-2">{{product.fat}}</td>
                            <td class="col-md-2">{{product.carbo}}</td>
                            <td class="col-md-2">{{product.kCal}}</td>
                            <td class="col-md-1">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" ng-model="product.checked"
                                               ng-change="getSelected()">
                                    </label>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <table>
                    <tbody>
                    <tr class="full-width">
                        <td class="col-md-11 left-aligned"><h5>You've selected:</h5></td>
                        <td class="col-md-1">
                            <button type="button" class="btn btn-default" ng-show="!isDisabledButton"
                                    ng-click="clearSelection()">Clear all
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="space"></div>
                <div>
                    <div ng-show="isDisabledButton">
                        You didn't select anything yet
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item" ng-repeat="select in selectedArr"> {{select.name}}<span
                                class="glyphicon glyphicon-trash pull-right "
                                ng-click="removeThisItem(select)"></span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <button id="calculate-btn" type="button" class="btn tf-btn btn-red centered page-scroll"
                        ng-class="{disabled: isDisabledButton}"
                        ng-click="calculateMenu()" ng-disabled="isDisabledButton" ng-model="isDisabledButton">
                    Calculate
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Result Section
==========================================-->
<div id="tf-clients" class="text-center" ng-show="isClicked">
    <div class="overlay">
        <div class="container">

            <div class="section-title center">
                <h2>Your daily menu looks like:</h2>

                <div class="line">
                    <hr>
                </div>
            </div>
            <div class="col-md-8 col-md-offset-2 transparent-background">
                <div ng-show="isClicked" class="panel panel-default transparent-background">
                    <div class="panel-body">
                        <table class="table table-small-font transparent-background">
                            <thead>
                            <th class="col-md-7">Name</th>
                            <th class="col-md-1">Amount</th>
                            <th class="col-md-1">Protein</th>
                            <th class="col-md-1">Fat</th>
                            <th class="col-md-1">Carb</th>
                            <th class="col-md-1">kCal</th>
                            </thead>
                            <tbody>
                            <tr data-ng-repeat="menuItem in menu">
                                <td class="col-md-7">{{menuItem.name}}:</td>
                                <td class="col-md-1"><b>{{menuItem.amount}} gr</b></td>
                                <td class="col-md-1">{{menuItem.totalProtein}} gr</td>
                                <td class="col-md-1">{{menuItem.totalFat}} gr</td>
                                <td class="col-md-1">{{menuItem.totalCarb}} gr</td>
                                <td class="col-md-1">{{menuItem.totalCalories}} kCal</td>
                            </tr>
                            <tr class=" bold">
                                <td class="col-md-7">Total:</td>
                                <td class="col-md-1"></td>
                                <td class="col-md-1"> {{totals.protein}} gr</td>
                                <td class="col-md-1"> {{totals.fat}} gr</td>
                                <td class="col-md-1">{{totals.carbs}} gr</td>
                                <td class="col-md-1"> {{totals.kCal}} kCal</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

</div>
</div>
<nav id="footer">
    <div class="container">
        <div class="pull-left fnav">
            <p>ALL RIGHTS RESERVED. COPYRIGHT © 2015.
        </div>
        <div class="pull-right fnav">
            <ul class="footer-social">
                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                <li><a href="#"><i class="fa fa-dribbble"></i></a></li>
                <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
            </ul>
        </div>
    </div>
</nav>
<!-- Modal -->
<div class="modal fade" id="signInModal" tabindex="-1" role="dialog" aria-labelledby="signInModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="signInModalLabel">Sign in</h4>
            </div>
            <div class="modal-body">
                <span id="login">
                    <button type="button" id="gLogin" class="btn btn-default" onclick="glLogin();">Google login</button>
                    <button type="button" id="fLogin" class="btn btn-default" onclick="fbLogin();">Facebook login</button>
                </span>
                <div id="loggedIn">
                    <div id="loggedInTxt"></div>
                    <a href="#" class="btn tf-btn btn-default btn-lg btn-block" id="logout" onclick="logout();">Sign out</a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html> 